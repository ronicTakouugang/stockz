# Stock Analysis and Prediction App

## About This Project

This project is a full-stack stock analysis and prediction application. The frontend is built with Next.js and the backend is a Python FastAPI service. The application provides a dashboard with stock market data from TradingView widgets. It also offers detailed analysis of individual stocks, which is generated by a combination of a Python backend (for predictions, sentiment analysis, and backtesting) and Google's Gemini AI (for synthesizing the data and providing a final recommendation). The application also includes user authentication and the ability to create watchlists.

---

## ⚠️ IMPORTANT SECURITY WARNING ⚠️

**It appears that project credentials have been accidentally committed to the git history. You must take the following steps immediately:**

1.  **Rotate all leaked credentials:** This includes your MongoDB password, Gemini API Key, Nodemailer password, and Finnhub API key. Generate new keys and passwords for all services.
2.  **Clean your git history:** You must remove the `.env` files from your entire git history to prevent them from being accessible in previous commits. This is a destructive operation. [This GitHub documentation](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository) provides a guide on how to do this.

---

## Getting Started

### Prerequisites

- [Node.js](https://nodejs.org/) (v18 or later recommended)
- [Python](https://www.python.org/) (v3.10 recommended)

### Installation & Setup

1.  **Clone the repository:**
    ```bash
    git clone <your-repository-url>
    cd <repository-name>
    ```

2.  **Environment Variables:**

    This project requires API keys and secrets to be stored in environment variables. Example files are provided.

    *   **Frontend Setup:**
        Create a `.env` file in the root of the project by copying the example file:
        ```bash
        cp .env.example .env
        ```
        Then, open the `.env` file and fill in the values for the following variables:
        - `MONGODB_URL`
        - `BETTER_AUTH_SECRET`
        - `GEMINI_API_KEY`
        - `NODEMAILER_EMAIL`
        - `NODEMAILER_PASSWORD`
        - `NEXT_PUBLIC_FINNHUB_API_KEY`

    *   **Backend Setup:**
        Create a `.env` file in the `backend/` directory:
        ```bash
        cp backend/.env.example backend/.env
        ```
        This file should contain the same values as the root `.env` file.

3.  **Install Frontend Dependencies:**
    ```bash
    npm install
    ```

### Running the Application

To run the application, you need to start both the backend and the frontend servers in separate terminals.

1.  **Start the Backend Server:**

    Navigate to the project root and run the backend start script. This will automatically create a Python virtual environment, install the required dependencies, and start the FastAPI server.

    ```bash
    ./start_backend.sh
    ```
    The backend will be running on `http://0.0.0.0:8000`.

2.  **Start the Frontend Server:**

    In a new terminal, run the Next.js development server:
    ```bash
    npm run dev
    ```
    Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

---

## Project Structure

- **`/app`**: The main Next.js application directory, containing all pages and routes.
- **`/backend`**: The Python FastAPI backend, responsible for machine learning predictions, backtesting, and data processing.
- **`/components`**: Shared React components used throughout the frontend.
- **`/database`**: Contains the Mongoose models and database connection logic.
- **`/hooks`**: Custom React hooks.
- **`/lib`**: Contains helper functions, actions, and configurations for both frontend and backend.
- **`/public`**: Static assets like images and icons.
- **`/start_backend.sh`**: A shell script to initialize and run the Python backend.

---
